<template>
  <div class="demo">
    <div style="display: flex; gap: 12px; flex-wrap: wrap;">
      <!-- æ¨¡æ€æ¡†ç¡®è®¤æ–¹å¼ -->
      <mx-delete-button 
        :loading="loading1"
        confirm="ç¡®å®šè¦åˆ é™¤è¿™æ¡è®°å½•å—ï¼Ÿ"
        @delete="handleDelete1"
      >
        æ¨¡æ€æ¡†ç¡®è®¤
      </mx-delete-button>
      
      <!-- æ°”æ³¡ç¡®è®¤æ–¹å¼ -->
      <mx-delete-button 
        :loading="loading2"
        confirm-type="popconfirm"
        confirm="ç¡®å®šè¦åˆ é™¤è¿™æ¡è®°å½•å—ï¼Ÿ"
        @delete="handleDelete2"
      >
        æ°”æ³¡ç¡®è®¤
      </mx-delete-button>
      
      <!-- æ— ç¡®è®¤æ–¹å¼ -->
      <mx-delete-button 
        :loading="loading3"
        :confirm="''"
        @delete="handleDelete3"
      >
        ç›´æ¥åˆ é™¤
      </mx-delete-button>
    </div>
    
    <div style="margin-top: 12px; color: #666; font-size: 12px;">
      ğŸ’¡ æç¤ºï¼šç‚¹å‡»æŸ¥çœ‹åŠ è½½çŠ¶æ€åœ¨æŒ‰é’®ã€ç¡®è®¤æŒ‰é’®ä¸Šçš„æ˜¾ç¤ºæ•ˆæœ
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { message } from 'ant-design-vue'

const loading1 = ref(false)
const loading2 = ref(false)
const loading3 = ref(false)

async function handleDelete1() {
  loading1.value = true
  try {
    // æ¨¡æ‹Ÿ API è°ƒç”¨
    await new Promise(resolve => setTimeout(resolve, 2000))
    message.success('åˆ é™¤æˆåŠŸï¼ˆæ¨¡æ€æ¡†ï¼‰')
  } finally {
    loading1.value = false
  }
}

async function handleDelete2() {
  loading2.value = true
  try {
    // æ¨¡æ‹Ÿ API è°ƒç”¨
    await new Promise(resolve => setTimeout(resolve, 2000))
    message.success('åˆ é™¤æˆåŠŸï¼ˆæ°”æ³¡ç¡®è®¤ï¼‰')
  } finally {
    loading2.value = false
  }
}

async function handleDelete3() {
  loading3.value = true
  try {
    // æ¨¡æ‹Ÿ API è°ƒç”¨
    await new Promise(resolve => setTimeout(resolve, 2000))
    message.success('åˆ é™¤æˆåŠŸï¼ˆç›´æ¥åˆ é™¤ï¼‰')
  } finally {
    loading3.value = false
  }
}
</script>

<style scoped>
.demo {
  padding: 16px;
  background: #fafafa;
  border-radius: 4px;
}
</style>

